{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Profil.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Axios from 'axios';\nimport NavBarProfil from '../NavBar/NavBarProfil';\nimport { updateBio } from '../Utilitaire/reducers/userActions';\nimport { isEmpty } from '../Utilitaire/Util';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profil = () => {\n  _s();\n\n  const user = useSelector(state => state.authReducer.user);\n  const posts = useSelector(state => state.authReducer.posts);\n  const [bio, setBio] = useState('');\n  const [updateForm, setUpdateForm] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleUpdate = () => {\n    dispatch(updateBio(bio));\n    setUpdateForm(false);\n  };\n\n  const Delete = () => {\n    history.push('/Delete');\n  };\n\n  Axios({\n    method: \"GET\",\n    url: \"http://localhost:4000/api/post/userspost\",\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"cookie\")\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"ProfilForm\",\n    children: [/*#__PURE__*/_jsxDEV(NavBarProfil, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Profil\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\" Welcome \", user.firstname, \" \", user.lastname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UpdateBio\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Bio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"textarea\",\n        children: [updateForm === false && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => setUpdateForm(!updateForm),\n            children: user.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUpdateForm(!updateForm),\n            children: \"Modifier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true), updateForm && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            defaultValue: user.bio,\n            onChange: e => setBio(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpdate,\n            children: \"Ok ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UL\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Mes posts \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: !isEmpty(posts[0]) && posts.map(post => {\n          if (post.author._id === user._id) {\n            return /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"UserLogin\",\n                  children: [user.login, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"UserPost\",\n                  children: [post.post, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 24\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"UserLikes\",\n                  children: post.likes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"UserDate\",\n                  children: post.createdAt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 10\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \" Aucun post \\xE0 ton actif \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 10\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Delete\",\n      children: [\"Supprimer son compte\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Delete,\n        children: \"Supprimer ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Profil, \"oyUFIG1LO3gshY7OB7dpY6TOaa8=\", false, function () {\n  return [useSelector, useSelector, useHistory, useDispatch];\n});\n\n_c = Profil;\nexport default Profil;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profil\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Profil.js"],"names":["React","useState","useEffect","useHistory","useDispatch","useSelector","Axios","NavBarProfil","updateBio","isEmpty","Profil","user","state","authReducer","posts","bio","setBio","updateForm","setUpdateForm","history","dispatch","handleUpdate","Delete","push","method","url","headers","Authorization","localStorage","getItem","firstname","lastname","e","target","value","map","post","author","_id","login","likes","length","createdAt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Axios from 'axios';\n\nimport NavBarProfil from '../NavBar/NavBarProfil';\nimport { updateBio } from '../Utilitaire/reducers/userActions';\nimport { isEmpty } from '../Utilitaire/Util';\n\nconst Profil = () => {\n\n\tconst user = useSelector((state) => state.authReducer.user);\n\tconst posts = useSelector((state) => state.authReducer.posts);\n\n\tconst [ bio, setBio ] = useState('');\n\tconst [ updateForm, setUpdateForm ] = useState(false);\n\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\n\tconst handleUpdate = () => {\n\t\tdispatch(updateBio(bio));\n\t\tsetUpdateForm(false);\n\t}\n\n\tconst Delete = () => {\n\t\thistory.push('/Delete');\n\t};\n\n\tAxios({\n\t\tmethod: \"GET\",\n\t\turl: \"http://localhost:4000/api/post/userspost\",\n\t\theaders: {\n\t\t\tAuthorization: \"Bearer \"+localStorage.getItem(\"cookie\")\n\t\t}\n\t});\n\n\treturn (\n\t\t<div id=\"ProfilForm\">\n\t\t\t<NavBarProfil/>\n\t\t\t<div className=\"Profil\">\n\t\t\t\t<h2> Welcome {user.firstname} {user.lastname}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"UpdateBio\">\n\t\t\t\t<h3>Bio</h3>\n\t\t\t\t<div className=\"textarea\">\n\t\t\t\t\t{updateForm === false && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p onClick={() => setUpdateForm(!updateForm)} >{user.bio}</p>\n\t\t\t\t\t\t\t<button onClick={() => setUpdateForm(!updateForm)}>Modifier</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{updateForm && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tdefaultValue={user.bio} \n\t\t\t\t\t\t\t\tonChange={(e) => setBio(e.target.value)}>\n\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t<button onClick ={handleUpdate}>Ok ?</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"UL\">\n\t\t\t\t<h3> Mes posts </h3>\n\t\t\t\t<ul>\n\t\t\t\t\t{!isEmpty(posts[0]) &&\n\t\t\t\t\t\tposts.map((post) => {\n\t\t\t\t\t\t\tif(post.author._id === user._id){\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<ul> \n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"UserLogin\">\n\t\t\t\t\t\t\t\t\t\t\t\t{user.login}<br/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"UserPost\">\n\t\t\t\t\t\t\t\t\t\t\t\t{post.post}<br/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"UserLikes\">\n\t\t\t\t\t\t\t\t\t\t\t\t{post.likes.length}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"UserDate\">\n\t\t\t\t\t\t\t\t\t\t\t\t{post.createdAt}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<h3> Aucun post à ton actif </h3>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"Delete\">\n\t\t\t\tSupprimer son compte \n\t\t\t\t<button onClick={Delete}>\n\t\t\t\t\tSupprimer ?\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Profil;"]},"metadata":{},"sourceType":"module"}