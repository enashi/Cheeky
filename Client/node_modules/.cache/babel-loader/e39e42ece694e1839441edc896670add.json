{"ast":null,"code":"var _jsxFileName = \"/Users/ihsaneboubrik/Desktop/L3/S6-2022/LU3IN017/ProjetWeb/cheeky/Client/src/component/Page/Post/Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updatePost } from '../../Utilitaire/actions/post.actions';\nimport Follow from '../Profil/Follow';\nimport { dateParser, isEmpty } from '../../Utilitaire/Util';\nimport LikeButton from './LikeButton';\nimport DeleteCard from './DeleteCard';\nimport CardComment from './CardComment';\nimport { NavLink } from 'react-router-dom';\nimport FakeButton from './FakeCard'; // récupère toute les informations du posts qui est décomposé (id, les commentaires ...)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = ({\n  post\n}) => {\n  _s();\n\n  const [isUpdated, setIsUpdated] = useState(false); //pour modifier le  post\n\n  const [textUpdate, setTextUpdate] = useState(null);\n  const [showComments, setShowComments] = useState(false); //pour montrer les commentaires, de bases on les voit pas\n\n  const usersData = useSelector(state => state.usersReducer); //toute la base de données de nos utilisateurs\n\n  const userData = useSelector(state => state.userReducer); //data de notre utilisateur\n\n  const dispatch = useDispatch(); //permet d'envoyer l'action\n\n  const updateItem = () => {\n    if (textUpdate) {\n      //si jamais si texte contient quelque chose alors on peut modifier\n      dispatch(updatePost(post._id, textUpdate));\n    }\n\n    setIsUpdated(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"card-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-left\",\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          exact: true,\n          to: '/visitprofil/' + post.posterId,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: !isEmpty(usersData[0]) &&\n            /*Si jamais on réclame une photo ou une data qui n'a pas encore été cherché alors il renvoie une erreur */\n            usersData.map(user => {\n              /* On se map nos utilisateurs pour trouver l'image de notre utilisateur*/\n              if (user._id === post.posterId)\n                /* on fait ca car si l'utilisateur change d'image alors on actualise aussi, sinon on afiche que son ancienne image*/\n                return user.picture;else return null;\n            }).join(\"\")\n            /* Pour éviter de mettre des virgules entre chaque element, on remplace par une chaine vide */\n            ,\n            width: \"50px\",\n            height: \"50px\",\n            alt: \"poster-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pseudo\",\n            children: [/*#__PURE__*/_jsxDEV(NavLink, {\n              exact: true,\n              to: '/visitprofil/' + post.posterId,\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: !isEmpty(usersData[0]) &&\n                /*On cherche de facon dynamique le pseudo de l'utilisateur, On fait la même chose qu'au dessus */\n                usersData.map(user => {\n                  if (user._id === post.posterId) return user.pseudo;else return null;\n                }).join(\"\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 8\n            }, this), post.posterId !== userData._id &&\n            /*#__PURE__*/\n\n            /* évite de ce follow lui même */\n            _jsxDEV(Follow, {\n              idToFollow: post.posterId,\n              type: 'card'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 7\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", dateParser(post.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 6\n        }, this), isUpdated === false && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", post.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 30\n        }, this), isUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-post\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            defaultValue: post.message,\n            onChange: e => setTextUpdate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: updateItem,\n              children: \"Valider modification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this), post.picture && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post.picture,\n          alt: \"card-pic\",\n          className: \"card-pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }, this), post.video &&\n        /*#__PURE__*/\n\n        /* pour mettre la vidéo à une certaine taille dans le post, ce sont les paramètres pour afficher des vidéos youtube */\n        _jsxDEV(\"iframe\", {\n          width: \"500\",\n          height: \"300\",\n          src: post.video,\n          frameBorder: \"0\",\n          allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n          allowFullScreen: true,\n          title: post._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this), userData._id === post.posterId &&\n        /*#__PURE__*/\n\n        /* donne la posiblité d'édit notre post uniquement si c'est le notre */\n        _jsxDEV(\"div\", {\n          className: \"button-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setIsUpdated(!isUpdated)\n            /* Permet de retirer l'édition quand on clique sur le bouton */\n            ,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"./img/icons/edit.svg\",\n              width: \"20px\",\n              height: \"20px\",\n              alt: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(DeleteCard, {\n            id: post._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-footer\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: () => setShowComments(!showComments),\n              src: \"./img/icons/message1.svg\",\n              alt: \"comment\",\n              width: \"20px\",\n              height: \"20px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", post.comments.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(LikeButton, {\n            post: post\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, this), \" \", /*#__PURE__*/_jsxDEV(FakeButton, {\n            post: post\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 6\n        }, this), showComments && /*#__PURE__*/_jsxDEV(CardComment, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, this)\n  }, post._id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Card, \"5iP9/7FalMU6b0UmwYg2ETZKON4=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/ihsaneboubrik/Desktop/L3/S6-2022/LU3IN017/ProjetWeb/cheeky/Client/src/component/Page/Post/Card.js"],"names":["React","useState","useSelector","useDispatch","updatePost","Follow","dateParser","isEmpty","LikeButton","DeleteCard","CardComment","NavLink","FakeButton","Card","post","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","usersData","state","usersReducer","userData","userReducer","dispatch","updateItem","_id","posterId","map","user","picture","join","pseudo","createdAt","message","e","target","value","video","comments","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,uCAA3B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,uBAApC;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB,C,CAEA;;;;AACA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAAA;;AAC1B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,KAAD,CAA1C,CAD0B,CACyB;;AACnD,QAAM,CAACgB,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM,CAACkB,YAAD,EAAeC,eAAf,IAAkCnB,QAAQ,CAAC,KAAD,CAAhD,CAH0B,CAG+B;;AACzD,QAAMoB,SAAS,GAAGnB,WAAW,CAAEoB,KAAD,IAAWA,KAAK,CAACC,YAAlB,CAA7B,CAJ0B,CAIoC;;AAC9D,QAAMC,QAAQ,GAAGtB,WAAW,CAAEoB,KAAD,IAAWA,KAAK,CAACG,WAAlB,CAA5B,CAL0B,CAKkC;;AAC5D,QAAMC,QAAQ,GAAGvB,WAAW,EAA5B,CAN0B,CAMM;;AAEhC,QAAMwB,UAAU,GAAG,MAAM;AACxB,QAAIV,UAAJ,EAAgB;AAAE;AACjBS,MAAAA,QAAQ,CAACtB,UAAU,CAACU,IAAI,CAACc,GAAN,EAAWX,UAAX,CAAX,CAAR;AACA;;AACDD,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,GALD;;AAOA,sBACC;AAAI,IAAA,SAAS,EAAC,gBAAd;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,+BACC,QAAC,OAAD;AAAS,UAAA,KAAK,MAAd;AAAe,UAAA,EAAE,EAAE,kBAAiBF,IAAI,CAACe,QAAzC;AAAA,iCACC;AAAK,YAAA,GAAG,EACP,CAACtB,OAAO,CAACc,SAAS,CAAC,CAAD,CAAV,CAAR;AAA0B;AACzBA,YAAAA,SAAS,CAACS,GAAV,CAAeC,IAAD,IAAU;AAAE;AACzB,kBAAIA,IAAI,CAACH,GAAL,KAAad,IAAI,CAACe,QAAtB;AAAiC;AAChC,uBAAOE,IAAI,CAACC,OAAZ,CADD,KAEK,OAAO,IAAP;AACL,aAJD,EAIGC,IAJH,CAIQ,EAJR;AAIY;AANd;AAQC,YAAA,KAAK,EAAC,MARP;AASC,YAAA,MAAM,EAAC,MATR;AAUC,YAAA,GAAG,EAAC;AAVL;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADD,eAiBC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACC;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACC;AAAK,YAAA,SAAS,EAAC,QAAf;AAAA,oCACC,QAAC,OAAD;AAAS,cAAA,KAAK,MAAd;AAAe,cAAA,EAAE,EAAE,kBAAiBnB,IAAI,CAACe,QAAzC;AAAA,qCACC;AAAA,0BACE,CAACtB,OAAO,CAACc,SAAS,CAAC,CAAD,CAAV,CAAR;AAA0B;AAC1BA,gBAAAA,SAAS,CAACS,GAAV,CAAeC,IAAD,IAAU;AACvB,sBAAIA,IAAI,CAACH,GAAL,KAAad,IAAI,CAACe,QAAtB,EACC,OAAOE,IAAI,CAACG,MAAZ,CADD,KAEK,OAAO,IAAP;AACL,iBAJD,EAIGD,IAJH,CAIQ,EAJR;AAFF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBADD,EAYEnB,IAAI,CAACe,QAAL,KAAkBL,QAAQ,CAACI,GAA3B;AAAA;;AAAoC;AACpC,oBAAC,MAAD;AAAQ,cAAA,UAAU,EAAEd,IAAI,CAACe,QAAzB;AAAmC,cAAA,IAAI,EAAE;AAAzC;AAAA;AAAA;AAAA;AAAA,oBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,oBAiBC;AAAA,4BAAQvB,UAAU,CAACQ,IAAI,CAACqB,SAAN,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EAqBEpB,SAAS,KAAK,KAAd,iBAAuB;AAAA,0BAAKD,IAAI,CAACsB,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBzB,EAsBErB,SAAS,iBACT;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACC;AACC,YAAA,YAAY,EAAED,IAAI,CAACsB,OADpB;AAEC,YAAA,QAAQ,EAAGC,CAAD,IAAOnB,aAAa,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV;AAF/B;AAAA;AAAA;AAAA;AAAA,kBADD,eAKC;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,mCACC;AAAQ,cAAA,SAAS,EAAC,KAAlB;AAAwB,cAAA,OAAO,EAAEZ,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBALD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvBF,EAmCEb,IAAI,CAACkB,OAAL,iBACA;AAAK,UAAA,GAAG,EAAElB,IAAI,CAACkB,OAAf;AAAwB,UAAA,GAAG,EAAC,UAA5B;AAAuC,UAAA,SAAS,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,gBApCF,EAsCElB,IAAI,CAAC0B,KAAL;AAAA;;AAAgB;AAChB;AACC,UAAA,KAAK,EAAC,KADP;AAEC,UAAA,MAAM,EAAC,KAFR;AAGC,UAAA,GAAG,EAAE1B,IAAI,CAAC0B,KAHX;AAIC,UAAA,WAAW,EAAC,GAJb;AAKC,UAAA,KAAK,EAAC,0FALP;AAMC,UAAA,eAAe,MANhB;AAOC,UAAA,KAAK,EAAE1B,IAAI,CAACc;AAPb;AAAA;AAAA;AAAA;AAAA,gBAvCF,EAiDEJ,QAAQ,CAACI,GAAT,KAAiBd,IAAI,CAACe,QAAtB;AAAA;;AAAoC;AACpC;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,kCACC;AAAK,YAAA,OAAO,EAAE,MAAMb,YAAY,CAAC,CAACD,SAAF;AAAc;AAA9C;AAAA,mCACC;AAAK,cAAA,GAAG,EAAC,sBAAT;AAAgC,cAAA,KAAK,EAAC,MAAtC;AAA6C,cAAA,MAAM,EAAC,MAApD;AAA2D,cAAA,GAAG,EAAC;AAA/D;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eAKC,QAAC,UAAD;AAAY,YAAA,EAAE,EAAED,IAAI,CAACc;AAArB;AAAA;AAAA;AAAA;AAAA,kBALD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlDF,eA0DC;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,uCACC;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,oCACC;AAAK,cAAA,OAAO,EAAE,MAAMR,eAAe,CAAC,CAACD,YAAF,CAAnC;AACC,cAAA,GAAG,EAAC,0BADL;AAEC,cAAA,GAAG,EAAC,SAFL;AAGC,cAAA,KAAK,EAAC,MAHP;AAIC,cAAA,MAAM,EAAC;AAJR;AAAA;AAAA;AAAA;AAAA,oBADD,eAOC;AAAA,8BAAQL,IAAI,CAAC2B,QAAL,CAAcC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAWC,QAAC,UAAD;AAAY,YAAA,IAAI,EAAE5B;AAAlB;AAAA;AAAA;AAAA;AAAA,kBAXD,oBAYC,QAAC,UAAD;AAAY,YAAA,IAAI,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,kBAZD;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1DD,EAyEEK,YAAY,iBAAI,QAAC,WAAD;AAAa,UAAA,IAAI,EAAEL;AAAnB;AAAA;AAAA;AAAA;AAAA,gBAzElB;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,KAAoCA,IAAI,CAACc,GAAzC;AAAA;AAAA;AAAA;AAAA,UADD;AAiGA,CAhHD;;GAAMf,I;UAIaX,W,EACDA,W,EACAC,W;;;KANZU,I;AAkHN,eAAeA,IAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updatePost } from '../../Utilitaire/actions/post.actions';\r\nimport Follow from '../Profil/Follow';\r\nimport { dateParser, isEmpty } from '../../Utilitaire/Util';\r\nimport LikeButton from './LikeButton';\r\nimport DeleteCard from './DeleteCard';\r\nimport CardComment from './CardComment';\r\nimport { NavLink } from 'react-router-dom';\r\nimport FakeButton from './FakeCard';\r\n\r\n// récupère toute les informations du posts qui est décomposé (id, les commentaires ...)\r\nconst Card = ({ post }) => {\r\n\tconst [isUpdated, setIsUpdated] = useState(false); //pour modifier le  post\r\n\tconst [textUpdate, setTextUpdate] = useState(null);\r\n\tconst [showComments, setShowComments] = useState(false); //pour montrer les commentaires, de bases on les voit pas\r\n\tconst usersData = useSelector((state) => state.usersReducer); //toute la base de données de nos utilisateurs\r\n\tconst userData = useSelector((state) => state.userReducer); //data de notre utilisateur\r\n\tconst dispatch = useDispatch(); //permet d'envoyer l'action\r\n\r\n\tconst updateItem = () => {\r\n\t\tif (textUpdate) { //si jamais si texte contient quelque chose alors on peut modifier\r\n\t\t\tdispatch(updatePost(post._id, textUpdate))\r\n\t\t}\r\n\t\tsetIsUpdated(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"card-container\" key={post._id}>\r\n\t\t\t<div className='Card'>\r\n\t\t\t\t<div className=\"card-left\">\r\n\t\t\t\t\t<NavLink exact to={'/visitprofil/'+ post.posterId}>\r\n\t\t\t\t\t\t<img src={\r\n\t\t\t\t\t\t\t!isEmpty(usersData[0]) && /*Si jamais on réclame une photo ou une data qui n'a pas encore été cherché alors il renvoie une erreur */\r\n\t\t\t\t\t\t\t\tusersData.map((user) => { /* On se map nos utilisateurs pour trouver l'image de notre utilisateur*/\r\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId)  /* on fait ca car si l'utilisateur change d'image alors on actualise aussi, sinon on afiche que son ancienne image*/\r\n\t\t\t\t\t\t\t\t\t\treturn user.picture;\r\n\t\t\t\t\t\t\t\t\telse return null;\r\n\t\t\t\t\t\t\t\t}).join(\"\") /* Pour éviter de mettre des virgules entre chaque element, on remplace par une chaine vide */\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twidth=\"50px\"\r\n\t\t\t\t\t\t\theight=\"50px\"\r\n\t\t\t\t\t\t\talt=\"poster-pic\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"card-right\">\r\n\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t<div className=\"pseudo\">\r\n\t\t\t\t\t\t\t<NavLink exact to={'/visitprofil/'+ post.posterId}>\r\n\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\t{!isEmpty(usersData[0]) && /*On cherche de facon dynamique le pseudo de l'utilisateur, On fait la même chose qu'au dessus */\r\n\t\t\t\t\t\t\t\t\t\tusersData.map((user) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (user._id === post.posterId)\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn user.pseudo;\r\n\t\t\t\t\t\t\t\t\t\t\telse return null;\r\n\t\t\t\t\t\t\t\t\t\t}).join(\"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t{post.posterId !== userData._id && ( /* évite de ce follow lui même */\r\n\t\t\t\t\t\t\t\t<Follow idToFollow={post.posterId} type={'card'} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div> {/* on affiche la date du post */}\r\n\t\t\t\t\t\t<span> {dateParser(post.createdAt)}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{isUpdated === false && <p> {post.message}</p>}\r\n\t\t\t\t\t{isUpdated && (\r\n\t\t\t\t\t\t<div className=\"update-post\">\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tdefaultValue={post.message}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTextUpdate(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"button-container\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={updateItem}>\r\n\t\t\t\t\t\t\t\t\tValider modification\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{post.picture && (\r\n\t\t\t\t\t\t<img src={post.picture} alt=\"card-pic\" className=\"card-pic\" />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{post.video && ( /* pour mettre la vidéo à une certaine taille dans le post, ce sont les paramètres pour afficher des vidéos youtube */\r\n\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\twidth=\"500\"\r\n\t\t\t\t\t\t\theight=\"300\"\r\n\t\t\t\t\t\t\tsrc={post.video}\r\n\t\t\t\t\t\t\tframeBorder=\"0\"\r\n\t\t\t\t\t\t\tallow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n\t\t\t\t\t\t\tallowFullScreen\r\n\t\t\t\t\t\t\ttitle={post._id}\r\n\t\t\t\t\t\t></iframe>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{userData._id === post.posterId && ( /* donne la posiblité d'édit notre post uniquement si c'est le notre */\r\n\t\t\t\t\t\t<div className=\"button-container\">\r\n\t\t\t\t\t\t\t<div onClick={() => setIsUpdated(!isUpdated)} /* Permet de retirer l'édition quand on clique sur le bouton */>\r\n\t\t\t\t\t\t\t\t<img src=\"./img/icons/edit.svg\" width=\"20px\" height=\"20px\" alt=\"edit\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<DeleteCard id={post._id} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"card-footer\"> {/* Pour afficher tout les commentaires  */}\r\n\t\t\t\t\t\t<div className=\"comment-icon\">\r\n\t\t\t\t\t\t\t<img onClick={() => setShowComments(!showComments)}\r\n\t\t\t\t\t\t\t\tsrc=\"./img/icons/message1.svg\"\r\n\t\t\t\t\t\t\t\talt=\"comment\"\r\n\t\t\t\t\t\t\t\twidth=\"20px\" \r\n\t\t\t\t\t\t\t\theight=\"20px\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<span> {post.comments.length}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<LikeButton post={post} /> {/* pour récup les données et voir les likes de chaque post*/} \r\n\t\t\t\t\t\t<FakeButton post={post} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t{showComments && <CardComment post={post} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n};\r\n\r\nexport default Card;"]},"metadata":{},"sourceType":"module"}