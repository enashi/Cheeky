{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/register/SignUp.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { UserContext } from '../NavigationPanel';\nimport NavBarSignUp from '../NavBar/NavBarSignUp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Create() {\n  _s();\n\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const history = useHistory();\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [login, setLogin] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    Axios('http://localhost:4000/api/sign/login', {\n      method: 'POST',\n      withcredentials: true,\n      data: {\n        firstname,\n        lastname,\n        login,\n        email,\n        password\n      }\n    }).then(res => {\n      console.log(res);\n      localStorage.setItem(\"cookie\", res.cookie);\n      localStorage.setItem(\"user\", res.user);\n      dispatch({\n        type: \"User\",\n        payload: res.user\n      });\n      history.push('/Home');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBarSignUp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"Create\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"First Name\",\n        onChange: e => {\n          setFirstname(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Last Name\",\n        onChange: e => {\n          setLastname(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Identifiant\",\n        onChange: e => {\n          setLogin(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"Email\",\n        placeholder: \"Email\",\n        onChange: e => {\n          setEmail(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Password\",\n        maxLength: \"12\",\n        onChange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Confirm Password\",\n        onChange: e => {\n          setPassword(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn_box\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Create, \"8CR4Kb7G+AGMhfH6A0K3Yju4xA4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Create;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/register/SignUp.js"],"names":["useState","useContext","useHistory","Axios","UserContext","NavBarSignUp","Create","state","dispatch","history","firstname","setFirstname","lastname","setLastname","login","setLogin","email","setEmail","password","setPassword","handleSubmit","e","preventDefault","method","withcredentials","data","then","res","console","log","localStorage","setItem","cookie","user","type","payload","push","catch","err","target","value"],"mappings":"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","sourcesContent":["import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { UserContext } from '../NavigationPanel';\nimport NavBarSignUp from '../NavBar/NavBarSignUp';\n\nexport default function Create() {\n\n\tconst { state, dispatch } = useContext(UserContext);\n\tconst history = useHistory();\n\tconst [firstname, setFirstname] = useState('');\n\tconst [lastname, setLastname] = useState('');\n\tconst [login, setLogin] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\n\t\tAxios(\n\t\t\t'http://localhost:4000/api/sign/login', \n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\twithcredentials: true,\n\t\t\t\tdata: {\n\t\t\t\t\tfirstname,\n\t\t\t\t\tlastname,\n\t\t\t\t\tlogin,\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t}\n\t\t\t}\n\t\t).then(res => {\n\t\t\tconsole.log(res);\n\n\t\t\tlocalStorage.setItem(\"cookie\", res.cookie);\n\t\t\tlocalStorage.setItem(\"user\", res.user);\n\n\t\t\tdispatch({\n\t\t\t\ttype: \"User\",\n\t\t\t\tpayload: res.user\n\t\t\t});\n\n\t\t\thistory.push('/Home');\n\t\t}\n\t\t).catch(err => {\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<NavBarSignUp/>\n\t\t\t<form id=\"Create\" onSubmit={handleSubmit}>\n\t\t\t\t<h4>Create Account</h4>\n\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder=\"First Name\"\n\t\t\t\t\tonChange = { (e) => {\n\t\t\t\t\t\tsetFirstname(e.target.value);\n\t\t\t\t\t}}/>\n\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder=\"Last Name\"\n\t\t\t\t\tonChange = { (e) => {\n\t\t\t\t\t\tsetLastname(e.target.value);\n\t\t\t\t\t}}/>\n\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder=\"Identifiant\"\n\t\t\t\t\tonChange = { (e) => {\n\t\t\t\t\t\tsetLogin(e.target.value);\n\t\t\t\t\t}}/>\n\n\t\t\t\t<input \n\t\t\t\t\ttype=\"email\" \n\t\t\t\t\tname=\"Email\" \n\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\tonChange = { (e) => {\n\t\t\t\t\t\tsetEmail(e.target.value);\n\t\t\t\t\t}}/>\n\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder=\"Password\" \n\t\t\t\t\tmaxLength=\"12\"\n\t\t\t\t\tonChange = { (e) => {\n\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t}}/>\n\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder=\"Confirm Password\"\n\t\t\t\t\tonChange = { (e) => {\n\t\t\t\t\t\tsetPassword(e.target.value);\n\t\t\t\t\t}}/>\n\n\t\t\t\t<div className=\"btn_box\">\n\t\t\t\t\t<button type=\"submit\">\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t)\n};"]},"metadata":{},"sourceType":"module"}