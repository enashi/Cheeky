{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Profil.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Axios from 'axios';\nimport NewCom from './Post/NewCom';\nimport LikeAPost from './Post/LikePost';\nimport DeleteAPost from './Post/DeletePost';\nimport NavBarProfil from '../NavBar/NavBarProfil';\nimport { updateBio } from '../Utilitaire/reducers/userActions';\nimport { isEmpty, dateParser } from '../Utilitaire/Util';\nimport { LikePost, UnlikePost } from \"../Utilitaire/reducers/userActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profil = () => {\n  _s();\n\n  const user = useSelector(state => state.authReducer.user);\n  const posts = useSelector(state => state.authReducer.posts);\n  const [bio, setBio] = useState('');\n  const [updateForm, setUpdateForm] = useState(false);\n  const [showComments, setShowComments] = useState(false);\n  const [liked, setLiked] = useState(false);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handleUpdate = () => {\n    dispatch(updateBio(bio));\n    setUpdateForm(false);\n  };\n\n  const like = post => {\n    console.log(post._id);\n    Axios({\n      method: \"PATCH\",\n      url: \"http://localhost:4000/api/post/like\",\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('cookie')\n      },\n      data: post._id\n    }).then(res => {\n      console.log(res);\n    });\n    setLiked(true);\n  };\n\n  const unlike = post => {\n    dispatch(UnlikePost(post._id));\n    setLiked(false);\n  };\n\n  const Delete = () => {\n    history.push('/Delete');\n  };\n\n  Axios({\n    method: \"GET\",\n    url: \"http://localhost:4000/api/post/userspost\",\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"cookie\")\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"ProfilForm\",\n    children: [/*#__PURE__*/_jsxDEV(NavBarProfil, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Profil\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\" Welcome \", user.firstname, \" \", user.lastname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UpdateBio\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Bio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"textarea\",\n        children: [updateForm === false && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            onClick: () => setUpdateForm(!updateForm),\n            children: user.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUpdateForm(!updateForm),\n            children: \"Modifier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true), updateForm && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            type: \"text\",\n            defaultValue: user.bio,\n            onChange: e => setBio(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpdate,\n            children: \"Ok ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UL\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Mes posts \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: !isEmpty(posts[0]) && posts.map(post => {\n          if (post.author._id === user._id) {\n            return /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"Header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"UserLogin\",\n                    children: [user.login, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 26\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: dateParser(post.createdAt)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"UserPost\",\n                  children: [post.post, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 24\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 12\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"footer\",\n                  children: [/*#__PURE__*/_jsxDEV(DeleteAPost, {\n                    id: post._id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-footer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"comment-icon\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"./img/icons/message1.svg\",\n                        onClick: () => setShowComments(!showComments),\n                        alt: \"comment\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 15\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: post.comments.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 14\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"like-container\",\n                      children: [user._id && liked === false && /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"./img/icons/heart.svg\",\n                        onClick: () => like(post),\n                        alt: \"like\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 16\n                      }, this), user._id && liked && /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: \"./img/icons/heart-filled.svg\",\n                        onClick: () => unlike(post),\n                        alt: \"unlike\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 16\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: post.likes.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 15\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 14\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 13\n                  }, this), showComments && /*#__PURE__*/_jsxDEV(NewCom, {\n                    post: post\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 30\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 10\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Delete\",\n      children: [\"Supprimer son compte\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Delete,\n        children: \"Supprimer ?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Profil, \"7mX0rY+yJTwRCmrtWyo2xB0MK0Y=\", false, function () {\n  return [useSelector, useSelector, useHistory, useDispatch];\n});\n\n_c = Profil;\nexport default Profil;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profil\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Profil.js"],"names":["React","useState","useEffect","useHistory","useDispatch","useSelector","Axios","NewCom","LikeAPost","DeleteAPost","NavBarProfil","updateBio","isEmpty","dateParser","LikePost","UnlikePost","Profil","user","state","authReducer","posts","bio","setBio","updateForm","setUpdateForm","showComments","setShowComments","liked","setLiked","history","dispatch","handleUpdate","like","post","console","log","_id","method","url","headers","Authorization","localStorage","getItem","data","then","res","unlike","Delete","push","firstname","lastname","e","target","value","map","author","login","createdAt","comments","length","likes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Axios from 'axios';\n\nimport NewCom from './Post/NewCom';\nimport LikeAPost from './Post/LikePost';\nimport DeleteAPost from './Post/DeletePost';\n\nimport NavBarProfil from '../NavBar/NavBarProfil';\nimport { updateBio } from '../Utilitaire/reducers/userActions';\nimport { isEmpty, dateParser } from '../Utilitaire/Util';\nimport { LikePost, UnlikePost } from \"../Utilitaire/reducers/userActions\";\n\n\nconst Profil = () => {\n\n\tconst user = useSelector((state) => state.authReducer.user);\n\tconst posts = useSelector((state) => state.authReducer.posts);\n\n\tconst [ bio, setBio ] = useState('');\n\tconst [ updateForm, setUpdateForm ] = useState(false);\n\tconst [ showComments, setShowComments ] = useState(false);\n\tconst [ liked, setLiked ] = useState(false);\n\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\n\tconst handleUpdate = () => {\n\t\tdispatch(updateBio(bio));\n\t\tsetUpdateForm(false);\n\t}\n\n\tconst like = (post) => {\n\t\tconsole.log(post._id);\n\t\tAxios({\n\t\t\tmethod: \"PATCH\",\n\t\t\turl: \"http://localhost:4000/api/post/like\",\n\t\t\theaders: {\n\t\t\t\tAuthorization: 'Bearer ' + localStorage.getItem('cookie')\n\t\t\t},\n\t\t\tdata: post._id\n\t\t}).then(res => {\n\t\t\tconsole.log(res);\n\t\t});\n\t\tsetLiked(true);\n\t};\n\t\n\tconst unlike = (post) => {\n\t\tdispatch(UnlikePost(post._id));\n\t\tsetLiked(false);\n\t}\n\n\tconst Delete = () => {\n\t\thistory.push('/Delete');\n\t};\n\n\tAxios({\n\t\tmethod: \"GET\",\n\t\turl: \"http://localhost:4000/api/post/userspost\",\n\t\theaders: {\n\t\t\tAuthorization: \"Bearer \"+localStorage.getItem(\"cookie\")\n\t\t}\n\t});\n\n\treturn (\n\t\t<div id=\"ProfilForm\">\n\t\t\t<NavBarProfil/>\n\t\t\t<div className=\"Profil\">\n\t\t\t\t<h2> Welcome {user.firstname} {user.lastname}</h2>\n\t\t\t</div>\n\t\t\t<div className=\"UpdateBio\">\n\t\t\t\t<h3>Bio</h3>\n\t\t\t\t<div className=\"textarea\">\n\t\t\t\t\t{updateForm === false && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p onClick={() => setUpdateForm(!updateForm)} >{user.bio}</p>\n\t\t\t\t\t\t\t<button onClick={() => setUpdateForm(!updateForm)}>Modifier</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{updateForm && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tdefaultValue={user.bio} \n\t\t\t\t\t\t\t\tonChange={(e) => setBio(e.target.value)}>\n\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t<button onClick ={handleUpdate}>Ok ?</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"UL\">\n\t\t\t\t<h3> Mes posts </h3>\n\t\t\t\t<ul>\n\t\t\t\t\t{!isEmpty(posts[0]) &&\n\t\t\t\t\t\tposts.map((post) => {\n\t\t\t\t\t\t\tif(post.author._id === user._id){\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<ul> \n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"Header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"UserLogin\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.login}<br/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{dateParser(post.createdAt)}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"UserPost\">\n\t\t\t\t\t\t\t\t\t\t\t\t{post.post}<br/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"footer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteAPost id={post._id} />\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"comment-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"./img/icons/message1.svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowComments(!showComments)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"comment\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{post.comments.length}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"like-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user._id && liked === false && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/heart.svg\" onClick={() => like(post)} alt=\"like\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user._id && liked && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/heart-filled.svg\" onClick={() => unlike(post)} alt=\"unlike\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{post.likes.length}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{showComments && <NewCom post={post} />}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"Delete\">\n\t\t\t\tSupprimer son compte \n\t\t\t\t<button onClick={Delete}>\n\t\t\t\t\tSupprimer ?\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Profil;"]},"metadata":{},"sourceType":"module"}