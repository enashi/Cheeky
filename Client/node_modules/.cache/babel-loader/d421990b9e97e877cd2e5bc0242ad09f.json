{"ast":null,"code":"var _jsxFileName = \"/Users/ihsaneboubrik/Desktop/L3/S6/LU3IN017/TME/dossier sans titre/cheeky/Client/src/component/Page/Friends/Follow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { followUser, unfollowUser } from '../../Utilitaire/reducers/userActions';\nimport { isEmpty } from '../../Utilitaire/Util';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Follow = ({\n  userid,\n  type\n}) => {\n  _s();\n\n  const user = useSelector(state => state.authReducer.user);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleFollow = () => {\n    dispatch(followUser(userid));\n    setIsFollowed(true);\n  };\n\n  const handleUnfollow = () => {\n    dispatch(unfollowUser(userid));\n    setIsFollowed(false);\n  };\n\n  useEffect(() => {\n    if (!isEmpty(user.abonnement)) {\n      if (user.abonnement.includes(userid)) {\n        setIsFollowed(true);\n      } else {\n        setIsFollowed(false);\n      }\n    }\n  }, [user, userid]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!isEmpty(user) && isFollowed && /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: handleUnfollow,\n      children: [type === \"suggestion\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"unfollow-btn\",\n        children: \"Abonn\\xE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), type === \"card\" && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"./img/icons/checked.svg\",\n        alt: \"checked\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this), !isEmpty(user) && isFollowed === false && /*#__PURE__*/_jsxDEV(\"span\", {\n      onClick: handleFollow,\n      children: [type === \"suggestion\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"follow-btn\",\n        children: \"Suivre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this), type === \"card\" && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"./img/icons/check.svg\",\n        alt: \"check\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Follow, \"FnkOItyL8uD0iU1JMNjCd0W2f8Q=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Follow;\nexport default Follow;\n\nvar _c;\n\n$RefreshReg$(_c, \"Follow\");","map":{"version":3,"sources":["/Users/ihsaneboubrik/Desktop/L3/S6/LU3IN017/TME/dossier sans titre/cheeky/Client/src/component/Page/Friends/Follow.js"],"names":["React","useEffect","useState","useDispatch","useSelector","followUser","unfollowUser","isEmpty","Follow","userid","type","user","state","authReducer","isFollowed","setIsFollowed","dispatch","handleFollow","handleUnfollow","abonnement","includes"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,uCAAzC;AACA,SAASC,OAAT,QAAwB,uBAAxB;;;AAEA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,KAAsB;AAAA;;AAEpC,QAAMC,IAAI,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBF,IAA9B,CAAxB;AAEA,QAAM,CAAEG,UAAF,EAAcC,aAAd,IAAgCb,QAAQ,CAAC,KAAD,CAA9C;AAEA,QAAMc,QAAQ,GAAGb,WAAW,EAA5B;;AAEA,QAAMc,YAAY,GAAG,MAAM;AAC1BD,IAAAA,QAAQ,CAACX,UAAU,CAACI,MAAD,CAAX,CAAR;AACAM,IAAAA,aAAa,CAAC,IAAD,CAAb;AACA,GAHD;;AAKA,QAAMG,cAAc,GAAG,MAAM;AAC5BF,IAAAA,QAAQ,CAACV,YAAY,CAACG,MAAD,CAAb,CAAR;AACAM,IAAAA,aAAa,CAAC,KAAD,CAAb;AACA,GAHD;;AAKAd,EAAAA,SAAS,CAAC,MAAM;AACf,QAAG,CAACM,OAAO,CAACI,IAAI,CAACQ,UAAN,CAAX,EAA8B;AAC7B,UAAGR,IAAI,CAACQ,UAAL,CAAgBC,QAAhB,CAAyBX,MAAzB,CAAH,EAAqC;AACpCM,QAAAA,aAAa,CAAC,IAAD,CAAb;AACA,OAFD,MAGK;AACJA,QAAAA,aAAa,CAAC,KAAD,CAAb;AACA;AACD;AACD,GATQ,EASN,CAACJ,IAAD,EAAOF,MAAP,CATM,CAAT;AAWA,sBACC;AAAA,eACE,CAACF,OAAO,CAACI,IAAD,CAAR,IAAkBG,UAAlB,iBACA;AAAM,MAAA,OAAO,EAAEI,cAAf;AAAA,iBACER,IAAI,KAAK,YAAT,iBACA;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAMEA,IAAI,KAAK,MAAT,iBACA;AAAK,QAAA,GAAG,EAAC,yBAAT;AAAmC,QAAA,GAAG,EAAC;AAAvC;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAaE,CAACH,OAAO,CAACI,IAAD,CAAR,IAAkBG,UAAU,KAAK,KAAjC,iBACA;AAAM,MAAA,OAAO,EAAEG,YAAf;AAAA,iBACEP,IAAI,KAAK,YAAT,iBACA;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAMEA,IAAI,KAAK,MAAT,iBACA;AAAK,QAAA,GAAG,EAAC,uBAAT;AAAiC,QAAA,GAAG,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YAdF;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA4BA,CAzDD;;GAAMF,M;UAEQJ,W,EAIID,W;;;KANZK,M;AA2DN,eAAeA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { followUser, unfollowUser } from '../../Utilitaire/reducers/userActions';\nimport { isEmpty } from '../../Utilitaire/Util';\n\nconst Follow = ({ userid, type }) => {\n\n\tconst user = useSelector((state) => state.authReducer.user);\n\n\tconst [ isFollowed, setIsFollowed ] = useState(false);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleFollow = () => {\n\t\tdispatch(followUser(userid));\n\t\tsetIsFollowed(true);\n\t};\n\n\tconst handleUnfollow = () => {\n\t\tdispatch(unfollowUser(userid));\n\t\tsetIsFollowed(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif(!isEmpty(user.abonnement)) {\n\t\t\tif(user.abonnement.includes(userid)) {\n\t\t\t\tsetIsFollowed(true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetIsFollowed(false);\n\t\t\t}\n\t\t}\n\t}, [user, userid]);\n\n\treturn (\n\t\t<div>\n\t\t\t{!isEmpty(user) && isFollowed && (\n\t\t\t\t<span onClick={handleUnfollow}>\n\t\t\t\t\t{type === \"suggestion\" && (\n\t\t\t\t\t\t<button className=\"unfollow-btn\">\n\t\t\t\t\t\t\tAbonn√©\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t{type === \"card\" && (\n\t\t\t\t\t\t<img src=\"./img/icons/checked.svg\" alt=\"checked\" />\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{!isEmpty(user) && isFollowed === false && (\n\t\t\t\t<span onClick={handleFollow}>\n\t\t\t\t\t{type === \"suggestion\" && (\n\t\t\t\t\t\t<button className=\"follow-btn\">\n\t\t\t\t\t\t\tSuivre\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t\t{type === \"card\" && (\n\t\t\t\t\t\t<img src=\"./img/icons/check.svg\" alt=\"check\" />\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Follow;"]},"metadata":{},"sourceType":"module"}