{"ast":null,"code":"var _jsxFileName = \"/Users/ihsaneboubrik/Desktop/L3/S6/LU3IN017/TME/dossier sans titre/cheeky/Client/src/component/Page/Post/Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updatePost } from '../../actions/post.actions';\nimport Follow from '../Profil/Follow';\nimport { dateParser, isEmpty } from '../Utils';\nimport LikeButton from './LikeButton';\nimport DeleteCard from './DeleteCard';\nimport CardComment from './CardComment';\nimport { NavLink } from 'react-router-dom'; // récupère toute les informations du posts qui est décomposé (id, les commentaires ...)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Card = ({\n  post\n}) => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true); //quand on a pas de data on fait un loading\n\n  const [isUpdated, setIsUpdated] = useState(false); //pour modifier le  post\n\n  const [textUpdate, setTextUpdate] = useState(null);\n  const [showComments, setShowComments] = useState(false); //pour montrer les commentaires, de bases on les voit pas\n\n  const usersData = useSelector(state => state.usersReducer); //toute la base de données de nos utilisateurs\n\n  const userData = useSelector(state => state.userReducer); //data de notre utilisateur\n\n  const dispatch = useDispatch(); //permet d'envoyer l'action\n\n  const updateItem = () => {\n    if (textUpdate) {\n      //si jamais si texte contient quelque chose alors on peut modifier\n      dispatch(updatePost(post._id, textUpdate));\n    }\n\n    setIsUpdated(false);\n  }; //si userData n'est pas vide alors on a plus de chargement\n\n\n  useEffect(() => {\n    !isEmpty(usersData[0]) && setIsLoading(false);\n  }, [usersData]); //c'est un callback, c'est la condition de relande, dès qu'il a de la usersData alors il relance la fonction\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"card-container\",\n    children: isLoading ?\n    /*#__PURE__*/\n\n    /*On regarde si la data est vide, si oui on fait une attente (spin) sinon on affiche le touite */\n    _jsxDEV(\"i\", {\n      className: \"fas fa-spinner fa-spin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-left\",\n        children: /*#__PURE__*/_jsxDEV(NavLink, {\n          exact: true,\n          to: '/visitprofil/' + post.posterId,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: !isEmpty(usersData[0]) &&\n            /*Si jamais on réclame une photo ou une data qui n'a pas encore été cherché alors il renvoie une erreur */\n            usersData.map(user => {\n              /* On se map nos utilisateurs pour trouver l'image de notre utilisateur*/\n              if (user._id === post.posterId)\n                /* on fait ca car si l'utilisateur change d'image alors on actualise aussi, sinon on afiche que son ancienne image*/\n                return user.picture;else return null;\n            }).join(\"\")\n            /* Pour éviter de mettre des virgules entre chaque element, on remplace par une chaine vide */\n            ,\n            alt: \"poster-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pseudo\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: !isEmpty(usersData[0]) &&\n              /*On cherche de facon dynamique le pseudo de l'utilisateur, On fait la même chose qu'au dessus */\n              usersData.map(user => {\n                if (user._id === post.posterId) return user.pseudo;else return null;\n              }).join(\"\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this), post.posterId !== userData._id &&\n            /*#__PURE__*/\n\n            /* évite de ce follow lui même */\n            _jsxDEV(Follow, {\n              idToFollow: post.posterId,\n              type: 'card'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", dateParser(post.createdAt)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), isUpdated === false && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", post.message]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 49\n        }, this), isUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"update-post\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            defaultValue: post.message,\n            onChange: e => setTextUpdate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: updateItem,\n              children: \"Valider modification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this), post.picture && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post.picture,\n          alt: \"card-pic\",\n          className: \"card-pic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 29\n        }, this), post.video &&\n        /*#__PURE__*/\n\n        /* pour mettre la vidéo à une certaine taille dans le post, ce sont les paramètres pour afficher des vidéos youtube */\n        _jsxDEV(\"iframe\", {\n          width: \"500\",\n          height: \"300\",\n          src: post.video,\n          frameBorder: \"0\",\n          allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n          allowFullScreen: true,\n          title: post._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this), userData._id === post.posterId &&\n        /*#__PURE__*/\n\n        /* donne la posiblité d'édit notre post uniquement si c'est le notre */\n        _jsxDEV(\"div\", {\n          className: \"button-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setIsUpdated(!isUpdated)\n            /* Permet de retirer l'édition quand on clique sur le bouton */\n            ,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"./img/icons/edit.svg\",\n              alt: \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(DeleteCard, {\n            id: post._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-footer\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              onClick: () => setShowComments(!showComments),\n              src: \"./img/icons/message1.svg\",\n              alt: \"comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", post.comments.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(LikeButton, {\n            post: post\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this), showComments && /*#__PURE__*/_jsxDEV(CardComment, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, post._id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Card, \"BqpVuA4YGvVg2VfIRv2lKZeLwHQ=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["/Users/ihsaneboubrik/Desktop/L3/S6/LU3IN017/TME/dossier sans titre/cheeky/Client/src/component/Page/Post/Card.js"],"names":["React","useEffect","useState","useSelector","useDispatch","updatePost","Follow","dateParser","isEmpty","LikeButton","DeleteCard","CardComment","NavLink","Card","post","isLoading","setIsLoading","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","usersData","state","usersReducer","userData","userReducer","dispatch","updateItem","_id","posterId","map","user","picture","join","pseudo","createdAt","message","e","target","value","video","comments","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { updatePost } from '../../actions/post.actions';\r\nimport Follow from '../Profil/Follow';\r\nimport { dateParser, isEmpty } from '../Utils';\r\nimport LikeButton from './LikeButton';\r\nimport DeleteCard from './DeleteCard';\r\nimport CardComment from './CardComment';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n// récupère toute les informations du posts qui est décomposé (id, les commentaires ...)\r\nconst Card = ({ post }) => {\r\n\r\n    const [isLoading, setIsLoading] = useState(true); //quand on a pas de data on fait un loading\r\n    const [isUpdated, setIsUpdated] = useState(false); //pour modifier le  post\r\n    const [textUpdate, setTextUpdate] = useState(null);\r\n    const [showComments, setShowComments] = useState(false); //pour montrer les commentaires, de bases on les voit pas\r\n    const usersData = useSelector((state) => state.usersReducer); //toute la base de données de nos utilisateurs\r\n    const userData = useSelector((state) => state.userReducer); //data de notre utilisateur\r\n    const dispatch = useDispatch(); //permet d'envoyer l'action\r\n\r\n\r\n\r\n    const updateItem = () => {\r\n        if (textUpdate) { //si jamais si texte contient quelque chose alors on peut modifier\r\n            dispatch(updatePost(post._id, textUpdate))\r\n        }\r\n        setIsUpdated(false);\r\n    }\r\n    //si userData n'est pas vide alors on a plus de chargement\r\n    useEffect(() => {\r\n        !isEmpty(usersData[0]) && setIsLoading(false);\r\n    }, [usersData]) //c'est un callback, c'est la condition de relande, dès qu'il a de la usersData alors il relance la fonction\r\n\r\n    return (\r\n        <li className=\"card-container\" key={post._id}>\r\n            {isLoading ? ( /*On regarde si la data est vide, si oui on fait une attente (spin) sinon on affiche le touite */\r\n                <i className=\"fas fa-spinner fa-spin\"></i>\r\n            ) : (\r\n                <>\r\n                    <div className=\"card-left\">\r\n                    \r\n                        <NavLink exact to={'/visitprofil/'+ post.posterId}>\r\n                            <img src={\r\n                                !isEmpty(usersData[0]) && /*Si jamais on réclame une photo ou une data qui n'a pas encore été cherché alors il renvoie une erreur */\r\n                                usersData.map((user) => { /* On se map nos utilisateurs pour trouver l'image de notre utilisateur*/\r\n                                    if (user._id === post.posterId)  /* on fait ca car si l'utilisateur change d'image alors on actualise aussi, sinon on afiche que son ancienne image*/\r\n                                        return user.picture;\r\n                                    else return null;\r\n                                }).join(\"\") /* Pour éviter de mettre des virgules entre chaque element, on remplace par une chaine vide */\r\n                            }\r\n                                alt=\"poster-pic\"\r\n                            />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className=\"card-right\">\r\n                        <div className=\"card-header\">\r\n                            <div className=\"pseudo\">\r\n                                <h3>\r\n                                    {!isEmpty(usersData[0]) && /*On cherche de facon dynamique le pseudo de l'utilisateur, On fait la même chose qu'au dessus */\r\n                                        usersData.map((user) => {\r\n                                            if (user._id === post.posterId)\r\n                                                return user.pseudo;\r\n                                            else return null;\r\n                                        })\r\n                                            .join(\"\")}\r\n                                </h3>\r\n                                {post.posterId !== userData._id && ( /* évite de ce follow lui même */\r\n                                    <Follow idToFollow={post.posterId} type={'card'} />\r\n                                )}\r\n                            </div> {/* on affiche la date du post */}\r\n                            <span> {dateParser(post.createdAt)}</span>\r\n                        </div>\r\n                        {isUpdated === false && <p> {post.message}</p>}\r\n                        {isUpdated && (\r\n                            <div className=\"update-post\">\r\n                                <textarea\r\n                                    defaultValue={post.message}\r\n                                    onChange={(e) => setTextUpdate(e.target.value)}\r\n                                />\r\n                                <div className=\"button-container\">\r\n                                    <button className=\"btn\" onClick={updateItem}>\r\n                                        Valider modification\r\n                                </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        {post.picture && (\r\n                            <img src={post.picture} alt=\"card-pic\" className=\"card-pic\" />\r\n                        )}\r\n                        {post.video && ( /* pour mettre la vidéo à une certaine taille dans le post, ce sont les paramètres pour afficher des vidéos youtube */\r\n                            <iframe\r\n                                width=\"500\"\r\n                                height=\"300\"\r\n                                src={post.video}\r\n                                frameBorder=\"0\"\r\n                                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                allowFullScreen\r\n                                title={post._id}\r\n                            ></iframe>\r\n                        )}\r\n                        {userData._id === post.posterId && ( /* donne la posiblité d'édit notre post uniquement si c'est le notre */\r\n                            <div className=\"button-container\">\r\n                                <div onClick={() => setIsUpdated(!isUpdated)} /* Permet de retirer l'édition quand on clique sur le bouton */>\r\n                                    <img src=\"./img/icons/edit.svg\" alt=\"edit\" />\r\n                                </div>\r\n                                <DeleteCard id={post._id} />\r\n                            </div>\r\n                        )}\r\n                        <div className=\"card-footer\"> {/* Pour afficher tout les commentaires  */}\r\n                            <div className=\"comment-icon\">\r\n                                <img onClick={() => setShowComments(!showComments)}\r\n                                    src=\"./img/icons/message1.svg\"\r\n                                    alt=\"comment\"\r\n                                />\r\n                                <span> {post.comments.length}</span>\r\n                            </div>\r\n                            <LikeButton post={post} /> {/* pour récup les données et voir les likes de chaque post*/}\r\n                            \r\n                        </div>\r\n                        {showComments && <CardComment post={post} />}\r\n                    </div>\r\n                </>\r\n            )}\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Card;"]},"metadata":{},"sourceType":"module"}