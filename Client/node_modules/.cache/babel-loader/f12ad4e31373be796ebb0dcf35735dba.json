{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Post/Post.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport NewCom from './NewCom';\nimport LikeAPost from './LikePost';\nimport Follow from '../Friends/Follow';\nimport DeleteAPost from './DeletePost';\nimport { isEmpty, dateParser } from '../../Utilitaire/Util';\nimport { AllPost, UpdatePost } from '../../Utilitaire/reducers/userActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Post = ({\n  post\n}) => {\n  _s();\n\n  const userdata = useSelector(state => state.authReducer.user);\n  const alluser = useSelector(state => state.allusersReducer);\n  const [isUpdated, setIsUpdated] = useState(false);\n  const [updatePost, setUpdatePost] = useState(null);\n  const [showComments, setShowComments] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleUpdate = async () => {\n    if (updatePost) {\n      await dispatch(UpdatePost(updatePost)).then(() => {\n        dispatch(AllPost());\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"card-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pseudo\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: !isEmpty(alluser) && alluser.map(user => {\n              if (user._id === post.author._id) return user.login;\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 7\n          }, this), post.author._id !== userdata._id && /*#__PURE__*/_jsxDEV(Follow, {\n            userid: post.author._id,\n            type: \"card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: dateParser(post.createdAt)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 5\n      }, this), isUpdated === false && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.post\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }, this), isUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"update-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          defaultValue: post.post,\n          onChange: e => setUpdatePost(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: handleUpdate,\n            children: \"Valider modification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, this), userdata._id === post.author._id && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setIsUpdated(true),\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./img/icons/edit.svg\",\n            alt: \"edit-comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => setIsUpdated(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(DeleteAPost, {\n          id: post._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-icon\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./img/icons/message1.svg\",\n            onClick: () => setShowComments(!showComments),\n            alt: \"comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: post.comments.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(LikeAPost, {\n          post: post\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), showComments && /*#__PURE__*/_jsxDEV(NewCom, {\n        post: post\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, this)\n  }, post._id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Post, \"2bsTsylFnsOLbbNo2vKfQ3GLirU=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Post/Post.js"],"names":["React","useState","useEffect","useDispatch","useSelector","NewCom","LikeAPost","Follow","DeleteAPost","isEmpty","dateParser","AllPost","UpdatePost","Post","post","userdata","state","authReducer","user","alluser","allusersReducer","isUpdated","setIsUpdated","updatePost","setUpdatePost","showComments","setShowComments","dispatch","handleUpdate","then","map","_id","author","login","createdAt","e","target","value","comments","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport NewCom from './NewCom';\nimport LikeAPost from './LikePost';\nimport Follow from'../Friends/Follow';\nimport DeleteAPost from './DeletePost';\n\nimport { isEmpty, dateParser } from '../../Utilitaire/Util';\nimport { AllPost, UpdatePost } from '../../Utilitaire/reducers/userActions';\n\nconst Post = ({ post }) => {\n\n\tconst userdata = useSelector((state) => state.authReducer.user);\n\tconst alluser = useSelector((state) => state.allusersReducer);\n\n\tconst [ isUpdated, setIsUpdated ] = useState(false);\n\tconst [ updatePost, setUpdatePost ] = useState(null);\n\tconst [ showComments, setShowComments ] = useState(false);\n\n\tconst dispatch = useDispatch();\n\n\tconst handleUpdate = async () => {\n\t\tif(updatePost) {\n\t\t\tawait dispatch(UpdatePost(updatePost)).then(() => {\n\t\t\t\tdispatch(AllPost());\n\t\t\t})\n\t\t}\n\t};\n\n\treturn (\n\t\t<li className=\"card-container\" key={post._id}>\n\t\t\t<div className=\"card-right\">\n\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{!isEmpty(alluser) &&\n\t\t\t\t\t\t\talluser.map((user) => {\n\t\t\t\t\t\t\t\tif (user._id === post.author._id) return user.login;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t{post.author._id !== userdata._id && (\n\t\t\t\t\t\t\t<Follow userid={post.author._id} type={\"card\"} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<span>{dateParser(post.createdAt)}</span>\n\t\t\t\t</div>\n\t\t\t\t{isUpdated === false && <p>{post.post}</p>}\n\t\t\t\t{isUpdated && (\n\t\t\t\t\t<div className=\"update-post\">\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tdefaultValue={post.post}\n\t\t\t\t\t\t\tonChange={(e) => setUpdatePost(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t<button className=\"btn\" onClick={handleUpdate}>\n\t\t\t\t\t\t\t\tValider modification\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{userdata._id === post.author._id && (\n\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t<div onClick={() => setIsUpdated(true)}>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t<img src=\"./img/icons/edit.svg\" alt=\"edit-comment\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div onClick={() => setIsUpdated(false)}>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<DeleteAPost id={post._id} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t<div className=\"comment-icon\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"./img/icons/message1.svg\"\n\t\t\t\t\t\t\tonClick={() => setShowComments(!showComments)}\n\t\t\t\t\t\t\talt=\"comment\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span>{post.comments.length}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<LikeAPost post={post} />\n\t\t\t\t</div>\n\t\t\t\t{showComments && <NewCom post={post} />}\n\t\t\t</div>\n\t\t</li>\n\t)\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}