{"ast":null,"code":"var _jsxFileName = \"/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Post/NewPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AllPost } from '../../Utilitaire/reducers/userActions';\nimport { CreatePost } from '../../Utilitaire/reducers/userActions';\nimport { isEmpty, timestampParser } from '../../Utilitaire/Util';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewPost = () => {\n  _s();\n\n  const user = useSelector(state => state.authReducer.user);\n  const poster = useSelector(state => state.userReducer.post);\n  const [isLoading, setIsLoading] = useState(true);\n  const [post, setPost] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const handlePost = async () => {\n    if (post) {\n      await dispatch(CreatePost(post));\n      cancelPost();\n    } else {\n      alert(\"Vous n'avez rien à dire ?\");\n    }\n  };\n\n  const cancelPost = () => {\n    setPost('');\n  };\n\n  useEffect(() => {\n    if (!isEmpty(user)) setIsLoading(false);\n  }, [user, post]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"HomeForm\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Post\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Comment allez-vous aujourd'hui \", user.login, \"?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"post\",\n        id: \"post\",\n        cols: \"25\",\n        rows: \"2\",\n        onChange: e => setPost(e.target.value),\n        value: post\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), post > 20 ? /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"card-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pseudo\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: user.login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: timestampParser(Date.now())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: post\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-form\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-send\",\n          children: [post > 20 ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel\",\n            onClick: cancelPost,\n            children: \"Annuler message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 8\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"send\",\n            onClick: handlePost,\n            children: \"Envoyer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 3\n  }, this);\n};\n\n_s(NewPost, \"yn0X+cmTJslRYGj8DPzsBr2uL6M=\", false, function () {\n  return [useSelector, useSelector, useHistory, useDispatch];\n});\n\n_c = NewPost;\nexport default NewPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewPost\");","map":{"version":3,"sources":["/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Page/Post/NewPost.js"],"names":["React","useState","useEffect","useHistory","useDispatch","useSelector","AllPost","CreatePost","isEmpty","timestampParser","NewPost","user","state","authReducer","poster","userReducer","post","isLoading","setIsLoading","setPost","history","dispatch","handlePost","cancelPost","alert","login","e","target","value","Date","now"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AllPost } from '../../Utilitaire/reducers/userActions';\nimport { CreatePost } from '../../Utilitaire/reducers/userActions';\nimport { isEmpty, timestampParser } from '../../Utilitaire/Util';\n\nconst NewPost = () => {\n\n\tconst user = useSelector((state) => state.authReducer.user);\n\tconst poster = useSelector((state) => state.userReducer.post);\n\t\n\tconst [ isLoading, setIsLoading ] = useState(true);\n\tconst [ post, setPost ] = useState(\"\");\n\t\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\t\n\tconst handlePost = async () => {\n\t\tif(post) {\n\t\t\tawait dispatch(CreatePost(post));\n\t\t\tcancelPost();\n\t\t}\n\t\telse {\n\t\t\talert(\"Vous n'avez rien à dire ?\");\n\t\t}\n\t};\n\n\tconst cancelPost = () => {\n\t\tsetPost('');\n\t};\n\n\tuseEffect(() => {\n\t\tif(!isEmpty(user)) setIsLoading(false);\n\t}, [user, post]);\n\n\treturn (\n\t\t<div id=\"HomeForm\">\n\t\t\t<div className=\"Post\">\n\t\t\t\t<h4>\n\t\t\t\t\tComment allez-vous aujourd'hui {user.login}?\n\t\t\t\t</h4>\n\t\t\t\t<textarea\n\t\t\t\t\tname=\"post\"\n\t\t\t\t\tid=\"post\"\n\t\t\t\t\tcols=\"25\"\n\t\t\t\t\trows=\"2\"\n\t\t\t\t\tonChange={(e) => setPost(e.target.value)}\n\t\t\t\t\tvalue={post}\n\t\t\t\t\t/>\n\t\t\t\t{post > 20 \n\t\t\t\t\t?(\n\t\t\t\t\t\t<li className=\"card-container\">\n\t\t\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t\t\t<h3>{user.login}</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<span>{timestampParser(Date.now())}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t<p>{post}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t<div className=\"footer-form\">\n\t\t\t\t\t<div className=\"btn-send\">\n\t\t\t\t\t\t{post > 20 ? (\n\t\t\t\t\t\t\t<button className=\"cancel\" onClick={cancelPost}>\n\t\t\t\t\t\t\t\tAnnuler message\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<button className=\"send\" onClick={handlePost}>\n\t\t\t\t\t\t\tEnvoyer\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}