{"ast":null,"code":"import Axios from 'axios';\nexport const getAllUsers = () => {\n  return dispatch => {\n    //dispatch c'est ce qu'on va envoyer au reducer\n    return Axios.get('http://localhost:4000/api/user/').then(res => {\n      dispatch({\n        type: \"All users\",\n        payload: res.data\n      }); //toute la data qu'on vient de chercher, on la passe au reduxer\n    }).catch(err => console.log(err));\n  };\n};\nexport const getUser = () => {\n  return dispatch => {\n    //dispatch c'est ce qu'on va envoyer au reducer\n    return Axios.get('http://localhost:4000/api/user/').then(res => {\n      dispatch({\n        type: \"User\",\n        payload: res.data\n      }); //toute la data qu'on vient de chercher, on la passe au reduxer\n    }).catch(err => console.log(err));\n  };\n};\nexport const updateBio = bio => {\n  return dispatch => {\n    return Axios('http://localhost:4000/api/user/update', {\n      method: \"PUT\",\n      data: {\n        bio: bio\n      }\n    }).then(res => {\n      dispatch({\n        type: \"Update bio\",\n        payload: bio\n      }); //payload : donnée qu'on envoie dans notre store\n    }).catch(err => console.log(err));\n  };\n};\nexport const deleteUser = () => {\n  return dispatch => {\n    return Axios('http://localhost:4000/api/user/delete', {\n      method: \"PUT\"\n    }).then(res => {\n      dispatch({\n        type: \"Delete user\",\n        payload: res.data\n      }); //payload : donnée qu'on envoie dans notre store\n    }).catch(err => console.log(err));\n  };\n};\nexport const followUser = userid => {\n  return dispatch => {\n    return Axios('http://localhost:4000/api/friend/follow', {\n      method: \"PATCH\",\n      data: {\n        userid: userid\n      }\n    }).then(res => {\n      dispatch({\n        type: \"Follow user\",\n        payload: {\n          userid\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const unfollowUser = userid => {\n  return dispatch => {\n    return Axios('http://localhost:4000/api/friend/unfollow', {\n      method: \"PATCH\",\n      data: {\n        userid: userid\n      }\n    }).then(res => {\n      dispatch({\n        type: \"Unfollow user\",\n        payload: {\n          userid\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const initialState = {};\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"All users\":\n      return action.payload;\n\n    case \"User\":\n      return action.payload;\n    //Toute la data de res.data qui à été envoyé avec action.payload on incrémente notre initialState\n\n    case \"Update bio\":\n      return { ...state,\n        bio: action.payload\n      };\n\n    case \"Follow user\":\n      return { ...state,\n        abonne: action.payload.abonne\n      };\n\n    case \"Unfollow user\":\n      return { ...state,\n        abonnement: action.payload.abonnement\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/macbookair/Desktop/S6/LU3IN017/cheeky/Client/src/component/Utilitaire/userReducer.js"],"names":["Axios","getAllUsers","dispatch","get","then","res","type","payload","data","catch","err","console","log","getUser","updateBio","bio","method","deleteUser","followUser","userid","unfollowUser","initialState","userReducer","state","action","abonne","abonnement"],"mappings":"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","sourcesContent":["import Axios from 'axios';\n\nexport const getAllUsers = () => {\n\treturn(dispatch) => { //dispatch c'est ce qu'on va envoyer au reducer\n\t\treturn Axios.get(\n\t\t\t'http://localhost:4000/api/user/'\n\t\t)\n\t\t.then((res) => {\n\t\t\tdispatch(\n\t\t\t\t{ \n\t\t\t\t\ttype: \"All users\", \n\t\t\t\t\tpayload: res.data \n\t\t\t\t}); //toute la data qu'on vient de chercher, on la passe au reduxer\n\t\t})\n\t\t.catch((err) => console.log( err ));\n\t};\n};\n\nexport const getUser = () => {\n\treturn(dispatch) => { //dispatch c'est ce qu'on va envoyer au reducer\n\t\treturn Axios.get(\n\t\t\t'http://localhost:4000/api/user/'\n\t\t)\n\t\t.then((res) => {\n\t\t\tdispatch(\n\t\t\t\t{ \n\t\t\t\t\ttype: \"User\", \n\t\t\t\t\tpayload: res.data \n\t\t\t\t}); //toute la data qu'on vient de chercher, on la passe au reduxer\n\t\t})\n\t\t.catch((err) => console.log( err ));\n\t};\n};\n\nexport const updateBio = (bio) => {\n\treturn (dispatch) => {\n\t\treturn Axios(\n\t\t\t'http://localhost:4000/api/user/update',\n\t\t\t{\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\tdata : {\n\t\t\t\t\tbio: bio\n\t\t\t\t}\n\t\t\t}\n\t\t)\n\t\t.then((res) =>{\n\t\t\tdispatch(\n\t\t\t{\n\t\t\t\ttype: \"Update bio\", \n\t\t\t\tpayload: bio\n\t\t\t}) //payload : donnée qu'on envoie dans notre store\n\t\t})\n\t\t.catch((err) => console.log( err ))\n\t};\n};\n\nexport const deleteUser = () => {\n\treturn (dispatch) => {\n\t\treturn Axios(\n\t\t\t'http://localhost:4000/api/user/delete',\n\t\t\t{\n\t\t\t\tmethod: \"PUT\",\n\t\t\t}\n\t\t\t\n\t\t)\n\t\t.then((res) =>{\n\t\t\tdispatch(\n\t\t\t{\n\t\t\t\ttype: \"Delete user\", \n\t\t\t\tpayload: res.data\n\t\t\t}) //payload : donnée qu'on envoie dans notre store\n\t\t})\n\t\t.catch((err) => console.log( err ))\n\t};\n}\n\nexport const followUser = (userid) => {\n\treturn (dispatch) => {\n\t\treturn Axios(\n\t\t \t'http://localhost:4000/api/friend/follow',\n\t\t \t{\n\t\t \t\tmethod: \"PATCH\",\n\t\t \t\tdata: {\n\t\t\t\t\tuserid: userid\n\t\t\t\t}\n\t\t \t}\n\t\t)\n\t\t.then((res) => {\n\t\t\tdispatch(\n\t\t\t\t{ \n\t\t\t\t\ttype: \"Follow user\", \n\t\t\t\t\tpayload: { userid }\n\t\t\t\t});\n\t\t})\n\t\t.catch((err) => console.log( err ));\n  \t};\n};\n\nexport const unfollowUser = (userid) => {\n\treturn (dispatch) => {\n\t\treturn Axios(\n\t\t\t'http://localhost:4000/api/friend/unfollow',\n\t\t\t{\n\t\t \t\tmethod: \"PATCH\",\n\t\t \t\tdata: {\n\t\t\t\t\tuserid: userid\n\t\t\t\t}\n\t\t \t}\n\t\t)\n\t\t.then((res) => {\n\t\t\tdispatch(\n\t\t\t\t{ \n\t\t\t\t\ttype: \"Unfollow user\", \n\t\t\t\t\tpayload: { userid } \n\t\t\t\t});\n\t\t})\n\t  .catch((err) => console.log( err ));\n  };\n};\n\nexport const initialState = {};\n\nexport const userReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase \"All users\":\n\t\t\treturn action.payload;\n\t\tcase \"User\":\n\t\t\treturn action.payload; //Toute la data de res.data qui à été envoyé avec action.payload on incrémente notre initialState\n\t\tcase \"Update bio\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbio: action.payload,\n\t\t\t};\n\t\tcase \"Follow user\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tabonne: action.payload.abonne,\n\t\t\t};\n\t\tcase \"Unfollow user\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tabonnement: action.payload.abonnement,\n\t\t\t};\n\t\tdefault:\n\t\treturn state;\n\t}\n}; \n"]},"metadata":{},"sourceType":"module"}